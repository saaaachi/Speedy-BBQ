<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Speedy BBQ - Á¨¨25Âºæ</title>
    <style>
        body { margin: 0; overflow: hidden; background: #3e2723; font-family: sans-serif; touch-action: none; }
        #ad-top, #ad-bottom { position: fixed; left: 0; width: 100%; height: 150px; background: #333; z-index: 100; display: flex; align-items: center; justify-content: center; }
        #ad-top { top: 0; } #ad-bottom { bottom: 0; }
        iframe { border: none; width: 100%; height: 150px; }
        #game-area { margin-top: 150px; height: calc(100vh - 300px); position: relative; display: flex; flex-wrap: wrap; justify-content: center; align-content: center; padding: 10px; box-sizing: border-box; }
        .meat { width: 80px; height: 80px; margin: 10px; background: #ff8a80; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 40px; cursor: pointer; border: 4px solid #5d4037; transition: background 0.2s; position: relative; }
        #ui { position: absolute; top: 160px; left: 0; width: 100%; text-align: center; color: white; font-size: 24px; font-weight: bold; z-index: 10; pointer-events: none; }
        #startScreen { position: absolute; top: 150px; left: 0; width: 100%; height: calc(100vh - 300px); background: rgba(0,0,0,0.85); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 50; color: white; }
        #goButton { padding: 15px 45px; font-size: 24px; background: #e64a19; border: none; border-radius: 50px; color: white; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div id="ad-top"><iframe src="ad.html"></iframe></div>
    <div id="ad-bottom"><iframe src="ad.html"></iframe></div>

    <div id="ui">SCORE: 0</div>
    <div id="game-area" id="grid"></div>

    <div id="startScreen">
        <h1 style="color:#ff5722;">SPEEDY BBQ</h1>
        <p>„ÅäËÇâ„ÅåËå∂Ëâ≤„Åè„Å™„Å£„Åü„Çâ„Çø„ÉÉ„ÉóÔºÅ<br>ÁÑ¶„Åí„Çã„Å®„Ç≤„Éº„É†„Ç™„Éº„Éê„Éºü•©üî•</p>
        <button id="goButton">ÁÑº„Åç„ÅØ„Åò„ÇÅ„ÇãÔºÅ</button>
    </div>

    <script>
        const grid = document.getElementById("game-area");
        const ui = document.getElementById("ui");
        let score = 0, gameActive = false;
        let meatCount = 9; // 3x3„ÅÆÁ∂≤

        document.getElementById("goButton").onclick = () => {
            document.getElementById("startScreen").style.display = "none";
            gameActive = true; score = 0; ui.innerText = "SCORE: 0";
            initGrid();
        };

        function initGrid() {
            grid.innerHTML = "";
            for(let i=0; i<meatCount; i++) {
                const m = document.createElement("div");
                m.className = "meat";
                m.innerText = "ü•©";
                m.onclick = () => cook(m);
                grid.appendChild(m);
                startCooking(m);
            }
        }

        function startCooking(m) {
            if(!gameActive) return;
            m.state = "raw"; // raw -> medium -> burnt
            m.style.background = "#ff8a80"; // ÁîüËâ≤
            let time = 1500 + Math.random() * 2000 - (score * 10);
            
            m.timer = setTimeout(() => {
                if(!gameActive) return;
                m.state = "medium";
                m.style.background = "#8d6e63"; // È£ü„Åπ„Åî„ÇçËâ≤
                m.timer = setTimeout(() => {
                    if(!gameActive) return;
                    m.state = "burnt";
                    m.style.background = "#212121"; // ÁÑ¶„ÅíËâ≤
                    gameOver("„ÅäËÇâ„ÅåÁÑ¶„Åí„Å°„ÇÉ„Å£„ÅüÔºÅ");
                }, 1000 - Math.min(score * 5, 500));
            }, time);
        }

        function cook(m) {
            if(!gameActive) return;
            if(m.state === "medium") {
                score++;
                ui.innerText = "SCORE: " + score;
                clearTimeout(m.timer);
                m.innerText = "üòã";
                m.style.background = "#3e2723";
                setTimeout(() => { if(gameActive) { m.innerText = "ü•©"; startCooking(m); } }, 500);
            } else if(m.state === "raw") {
                gameOver("„Åæ„Å†Áîü„Å†„ÇàÔºÅ");
            }
        }

        function gameOver(msg) {
            gameActive = false;
            alert(msg + "\nSCORE: " + score);
            location.reload();
        }

        setInterval(() => {
            const fs = document.querySelectorAll('iframe');
            fs.forEach(f => { const s = f.src; f.src = "about:blank"; setTimeout(() => f.src = s, 100); });
        }, 30000);
    </script>
</body>
</html>
